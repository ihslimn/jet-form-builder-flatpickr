(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n,r){var o;return o=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n),(n="symbol"==e(o)?o:o+"")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}var n="jfb_flatpickr_enabled",r="jfb_flatpickr_24h",o="jfb_flatpickr_format",l="jfb_flatpickr_min_inc",i="jfb_flatpickr_disabled_weekdays",a="jfb_flatpickr_advanced_config",c="jet-forms/date-field",u="jet-forms/time-field",f=t(t(t({},c,"d.m.Y"),"jet-forms/datetime-field","d.m.Y H:i"),u,"H:i");function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){var r;return r=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==m(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function d(e,t,n){var r;return r=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==y(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=wp.hooks.addFilter,v=wp.compose.createHigherOrderComponent,g=wp.blockEditor.InspectorControls,j=wp.components,S=j.TextControl,h=j.ToggleControl,E=j.Panel,k=j.PanelRow,O=j.PanelBody,P=j.__experimentalNumberControl,_=j.TextareaControl,C=j.ExternalLink,T=v((function(e){return function(t){var m=t.name;if(!f[m])return wp.element.createElement(e,t);var p=t.attributes,b=t.setAttributes,s=t.isSelected,y=wp.element.createElement(React.Fragment,null,"Advanced config in JSON format."," ","See"," ",wp.element.createElement(C,{href:"https://flatpickr.js.org/options/"},"list of options",".")," ","Only non-function/non-object options can be set this way. Use 'jfb-flatpickr.input.params' filter to set all options.");return wp.element.createElement(React.Fragment,null,wp.element.createElement(e,t),s&&wp.element.createElement(g,null,wp.element.createElement(E,null,wp.element.createElement(O,{title:"Flatpickr Settings",initialOpen:!1},wp.element.createElement(k,null,wp.element.createElement(h,{label:"Flatpickr enabled",help:(p[n],""),checked:p[n],onChange:function(){b(d({},n,!p[n]))}})),p[n]&&"jet-forms/date-field"!==m&&wp.element.createElement(k,null,wp.element.createElement(h,{label:"24h time format",help:(p[r],""),checked:p[r],onChange:function(){b(d({},r,!p[r]))}})),p[n]&&m!==c&&wp.element.createElement(k,null,wp.element.createElement(P,{label:"Minute increment",labelPosition:"top",value:p[l],onChange:function(e){b(d({},l,parseInt(e)))}})),p[n]&&wp.element.createElement(k,null,wp.element.createElement(S,{label:"Visible date format",help:"",value:p[o],onChange:function(e){b(d({},o,e))}})),p[n]&&m!==u&&wp.element.createElement(k,null,wp.element.createElement(S,{label:"Disabled week days",help:"Comma-separated day numbers; Sunday is 0, Saturday is 6",value:p[i],onChange:function(e){b(d({},i,e.replaceAll(/[^\d,]/g,"")))}})),p[n]&&wp.element.createElement(k,null,wp.element.createElement(_,{label:"Advanced config",help:y,value:p[a],onChange:function(e){b(d({},a,e))},rows:"8"}))))))}}),"addControls");w("editor.BlockEdit","jfb-flatpickr/editor-controls",T),(0,wp.hooks.addFilter)("blocks.registerBlockType","jfb-flatpickr/block-attributes",(function(e,t){return f[t]?(e.attributes=b(b({},e.attributes),{},s(s(s(s(s(s({},n,{type:"boolean",default:!1}),r,{type:"boolean",default:!0}),o,{type:"string",default:f[t]}),l,{type:"string",default:"1"}),i,{type:"string",default:""}),a,{type:"string",default:""})),e):e}))})();