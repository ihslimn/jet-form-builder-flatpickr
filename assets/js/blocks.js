(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,r,n){var o;return o=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r),(r="symbol"==e(o)?o:o+"")in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var r="jfb_flatpickr_enabled",n="jfb_flatpickr_24h",o="jfb_flatpickr_format",l="jfb_flatpickr_min_inc",i="jfb_flatpickr_disabled_weekdays",a="jet-forms/date-field",c="jet-forms/time-field",u=t(t(t({},a,"d.m.Y"),"jet-forms/datetime-field","d.m.Y H:i"),c,"H:i");function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){var n;return n=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==f(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function s(e,t,r){var n;return n=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==y(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=wp.hooks.addFilter,w=wp.compose.createHigherOrderComponent,v=wp.blockEditor.InspectorControls,g=wp.components,j=g.TextControl,S=g.ToggleControl,h=g.Panel,E=g.PanelRow,O=g.PanelBody,k=g.__experimentalNumberControl,P=w((function(e){return function(t){var f=t.name;if(!u[f])return wp.element.createElement(e,t);var m=t.attributes,p=t.setAttributes,b=t.isSelected;return wp.element.createElement(React.Fragment,null,wp.element.createElement(e,t),b&&wp.element.createElement(v,null,wp.element.createElement(h,null,wp.element.createElement(O,{title:"Flatpickr Settings",initialOpen:!1},wp.element.createElement(E,null,wp.element.createElement(S,{label:"Flatpickr enabled",help:(m[r],""),checked:m[r],onChange:function(){p(s({},r,!m[r]))}})),m[r]&&"jet-forms/date-field"!==f&&wp.element.createElement(E,null,wp.element.createElement(S,{label:"24h time format",help:(m[n],""),checked:m[n],onChange:function(){p(s({},n,!m[n]))}})),m[r]&&f!==a&&wp.element.createElement(E,null,wp.element.createElement(k,{label:"Minute increment",labelPosition:"top",value:m[l],onChange:function(e){p(s({},l,parseInt(e)))}})),m[r]&&wp.element.createElement(E,null,wp.element.createElement(j,{label:"Visible date format",help:"",value:m[o],onChange:function(e){p(s({},o,e))}})),m[r]&&f!==c&&wp.element.createElement(E,null,wp.element.createElement(j,{label:"Disabled week days",help:"Comma-separated day numbers; Sunday is 0, Saturday is 6",value:m[i],onChange:function(e){p(s({},i,e.replaceAll(/[^\d,]/g,"")))}}))))))}}),"addControls");d("editor.BlockEdit","jfb-flatpickr/editor-controls",P),(0,wp.hooks.addFilter)("blocks.registerBlockType","jfb-flatpickr/block-attributes",(function(e,t){return u[t]?(e.attributes=p(p({},e.attributes),{},b(b(b(b(b({},r,{type:"boolean",default:!1}),n,{type:"boolean",default:!0}),o,{type:"string",default:u[t]}),l,{type:"string",default:"1"}),i,{type:"string",default:""})),e):e}))})();